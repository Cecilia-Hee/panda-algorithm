<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>斐波那契数列</title>
</head>

<body>
  <script>
    // 509.斐波那契数列：https://leetcode-cn.com/problems/fibonacci-number/
    // 1. 普通解法
    var fib = function (N) {
      if (N == 0) return 0;
      if (N == 1) return 1;
      return fib(N - 1) + fib(N - 2)
    };

    // 2. 带备忘录的解法
    var fib2 = function (N) {
      if (N < 1) return 0;
      const map = {};
      function helper(map, N) {
        if (N == 1 || N == 2) return 1;
        if (map[N]) return map[N];
        map[N] = helper(map, N - 1) + helper(map, N - 2);
        return map[N]
      }
      return helper(map, N);
    }
    console.log(fib2(4))

    // 3. DPtable的解法
    var fib3 = function(N) {
      const dp = new Array(N+1).fill(0);
      dp[1] = 1;
      for(let i=2; i<=N; i++) {
        dp[i] = dp[i-1] + dp[i-2]
      }
      return dp[N]
    }
    console.log(fib3(4))

    // 4. 状态压缩
    var fib4 = function(N) {
      if(N==0) return 0;
      if(N==1 || N==2) return 1;
      let prev = 1; 
      let curr = 1;
      for(let i=3; i<=N; i++) {
        let sum = prev + curr;
        prev = curr;
        curr = sum;
      }
      return curr;
    }
    console.log(fib4(4))

  </script>
</body>

</html>